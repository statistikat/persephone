<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Persephone, Seasonal Adjustment with an Object-oriented Wrapper for RJDemetra • persephone</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Persephone, Seasonal Adjustment with an Object-oriented Wrapper for RJDemetra">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">persephone</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/persephone-hierarchical.html">Hierarchical time series</a>
    </li>
    <li>
      <a href="../articles/persephone-hierarchicalEU.html">Hierarchical time series - construction and weights</a>
    </li>
    <li>
      <a href="../articles/persephone-plotting.html">Plotting with persephone</a>
    </li>
    <li>
      <a href="../articles/persephone-saceWorkshop.html">Persephone, Seasonal Adjustment with an Object-oriented Wrapper for RJDemetra</a>
    </li>
    <li>
      <a href="../articles/persephone-useR.pdf">persephone useR!2019 (PDF)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/statistikat/persephone">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Persephone, Seasonal Adjustment with an Object-oriented Wrapper for RJDemetra</h1>
                        <h4 class="author">Angelika Meraner, Gregor de Cillia, Alexander Kowarik</h4>
            
            <h4 class="date">2019-09-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/statistikat/persephone/blob/master/vignettes/persephone-saceWorkshop.Rmd"><code>vignettes/persephone-saceWorkshop.Rmd</code></a></small>
      <div class="hidden name"><code>persephone-saceWorkshop.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The R-package <strong>persephone</strong> was developed and is still under development to enable easy processing of multiple time series during the production of seasonally adjusted estimates. It builds on top of <strong>RJDemetra</strong> (), an R interface to JDemetra+ (<a href="https://github.com/jdemetra" class="uri">https://github.com/jdemetra</a>), and provides analytical tools such as interactive plots to support the SA expert. The package should make it easy to construct personalized dashboards containing selected plots and diagnostics and to produce a Eurostat-Quality-Report. Furthermore it supports hierarchical time series and should enable future incorporation of diagnostics for direct vs indirect adjustment.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>The package can be installed from GitHub via</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"statistikat/persephone"</span>)</a></code></pre></div>
<p>Optionally it can be installed including vignettes (needs prettydoc):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"statistikat/persephone"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="getting-started-constructing-persephone-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started-constructing-persephone-objects" class="anchor"></a>Getting Started: Constructing Persephone Objects</h1>
<p>Load the package:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(persephone)</a></code></pre></div>
<p>An object of class <code>persephone</code> can be constructed for only one or for multiple (hierarchical) time series objects. Depending on whether seasonal adjusment should performed with X-13 or with TRAMO-SEATS, ‘single’ persephone objects are constructed with the functions <code><a href="../reference/per_x13.html">per_x13()</a></code> or <code><a href="../reference/per_tramo.html">per_tramo()</a></code>. Multiple ‘single’ objects can then be combined with <code><a href="../reference/per_hts.html">per_hts()</a></code> to build a hierarchical persephone object. Batch objects without a hierarchy at not supported at the moment but will be in the near future.</p>
<p><code>persephone</code> objects call the functions of <strong>RJDemetra</strong> in the background, so for documentation on the respective X-13 or TRAMO-SEATS methods refer to the R-help of <strong>RJDemetra</strong>.</p>
<div id="persephone-single-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#persephone-single-objects" class="anchor"></a>Persephone Single Objects</h2>
<p>Univariate persephone objects are created with <code><a href="../reference/per_x13.html">per_x13()</a></code> or <code><a href="../reference/per_tramo.html">per_tramo()</a></code> from univariate time series objects such as the <code>AirPassengers</code> dataset. A predefined JDemetra+ model specification has to be provided by the user, in this example we use <code>"RSA3"</code> (Log/level detection = automatic, Outliers detection = automatic, Calendar effects = NA, ARIMA = automatic).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(AirPassengers, <span class="dt">package =</span> <span class="st">"datasets"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">obj_x13 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/per_x13.html">per_x13</a></span>(AirPassengers, <span class="st">"RSA3"</span>)</a></code></pre></div>
<p>Now, different methods can be called for the persephone object <code>obj_x13</code>. The <code>run()</code> method runs the model and <code>output</code> gives access to the original output object from <strong>RJDemetra</strong>. Without a run, most methods for the object will not work since no results are available then.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">obj_x13<span class="op">$</span><span class="kw">run</span>()</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">obj_x13<span class="op">$</span>output<span class="op">$</span>regarima</a></code></pre></div>
<pre><code>## y = regression model + arima (0, 1, 1, 0, 1, 1)
## Log-transformation: yes
## Coefficients:
##           Estimate Std. Error
## Theta(1)   -0.4018      0.081
## BTheta(1)  -0.5569      0.078
## 
## 
## Residual standard error: 0.03672 on 131 degrees of freedom
## Log likelihood = 244.7, aic = 987.2 aicc = 987.4, bic(corrected for length) = -6.535</code></pre>
<p>Several plot methods have been implemented. The default S3 generic <code><a href="../reference/plot.html">plot()</a></code> for example shows the time series with the <code>dygraphs</code> package. The result is a zoomable representation of the series, see Figure @ref(fig:plotmethod)</p>
<div class="figure">
<img src="resources/plot.png" alt="\label{fig:plotmethod} Output of the plot() method in the R-Studio viewer pane" width="100%"><p class="caption">
 Output of the plot() method in the R-Studio viewer pane
</p>
</div>
</div>
<div id="persephone-hierarchical-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#persephone-hierarchical-objects" class="anchor"></a>Persephone Hierarchical Objects</h2>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#installation">Installation</a></li>
      <li>
<a href="#getting-started-constructing-persephone-objects">Getting Started: Constructing Persephone Objects</a><ul class="nav nav-pills nav-stacked">
<li><a href="#persephone-single-objects">Persephone Single Objects</a></li>
      <li><a href="#persephone-hierarchical-objects">Persephone Hierarchical Objects</a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Angelika Meraner, Gregor de Cillia, Alexander Kowarik.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
