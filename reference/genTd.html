<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generation of trading day regressors — genTd • persephone</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Generation of trading day regressors — genTd" />
<meta property="og:description" content="User defined trading day regressors are generated depending on a list of
country-specific holidays and associated weights. Each holiday can be given
a specific weight depending on the extent of the work load of that specific holiday." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">persephone</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/persephone-hierarchical.html">Hierarchical time series</a>
    </li>
    <li>
      <a href="../articles/persephone-hierarchicalEU.html">Hierarchical time series - construction and weights</a>
    </li>
    <li>
      <a href="../articles/persephone-ntts2021.pdf">persephone ntts2021 (PDF)</a>
    </li>
    <li>
      <a href="../articles/persephone-plotting.html">Plotting with persephone</a>
    </li>
    <li>
      <a href="../articles/persephone-saceWorkshop.html">Persephone, Seasonal Adjustment with an Object-oriented Wrapper for RJDemetra</a>
    </li>
    <li>
      <a href="../articles/persephone-useR.pdf">persephone useR!2019 (PDF)</a>
    </li>
    <li>
      <a href="../articles/resources/persephone-ntts2021_slides.html">Persephone</a>
    </li>
    <li>
      <a href="../articles/resources/persephone-saceWorkshop_slides.html">Persephone</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statistikat/persephone/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generation of trading day regressors</h1>
    <small class="dont-index">Source: <a href='https://github.com/statistikat/persephone/blob/master/R/genTd.R'><code>R/genTd.R</code></a></small>
    <div class="hidden name"><code>genTd.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>User defined trading day regressors are generated depending on a list of
country-specific holidays and associated weights. Each holiday can be given
a specific weight depending on the extent of the work load of that specific holiday.</p>
    </div>

    <pre class="usage"><span class='fu'>genTd</span><span class='op'>(</span>
  ff <span class='op'>=</span> <span class='fl'>12</span>,
  fYear <span class='op'>=</span> <span class='fl'>1960</span>,
  lYear <span class='op'>=</span> <span class='fl'>2099</span>,
  <span class='va'>hd</span>,
  weight <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>hd</span><span class='op'>)</span><span class='op'>)</span>,
  adjustEaster <span class='op'>=</span> <span class='st'>"exact"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ff</th>
      <td><p>frequency of series</p></td>
    </tr>
    <tr>
      <th>fYear</th>
      <td><p>first year of calculation of trading day regressor</p></td>
    </tr>
    <tr>
      <th>lYear</th>
      <td><p>last year of calculation of trading day regressor</p></td>
    </tr>
    <tr>
      <th>hd</th>
      <td><p>holidays, list of 1. exact date ("mm-dd") and/or 2. name of day
(listHolidays() from timeDate function) and/or
3. easter relation (e.g. "easter+39", "easter-3")</p></td>
    </tr>
    <tr>
      <th>weight</th>
      <td><p>vector of individual weights for each holiday with length of hd</p></td>
    </tr>
    <tr>
      <th>adjustEaster</th>
      <td><p>"exact" or "approximate" to employ theoretical distribution of easter dates
(default) or approximate distribution of easter dates for centering of trading days</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list with three list elements. 1. matrix of trading day counts for each
individual day, month and year. Holidays which are delivered through the
parameter hd are assigned to the number of sundays. 2. multiple time
series object with 6 non-centered trading day regressors plus 1
non-centered working day regressor (columns 1 to 6 refer to Mondays to
Saturdays, colunm 7 refers to the one-regressor case of 5 working days).
In case of trading day adjustment the first 6 columns have to be selected,
in case of wording day adjustment only column 7 has to be selected.
3. multiple time series object with 6 centered trading day regressors
plus 1 centered working day regressor</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>hdAT</span> <span class='op'>&lt;-</span> <span class='fu'>genTd</span><span class='op'>(</span>hd <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"01-01"</span>,<span class='st'>"01-06"</span>,<span class='st'>"05-01"</span>,<span class='st'>"easter+1"</span>, <span class='st'>"easter+39"</span>,
                        <span class='st'>"easter+50"</span>,<span class='st'>"easter+60"</span>,
                         <span class='st'>"08-15"</span>,<span class='st'>"10-26"</span>,<span class='st'>"11-01"</span>,<span class='st'>"12-08"</span>,<span class='st'>"12-24"</span>,<span class='st'>"12-25"</span>,
                         <span class='st'>"12-26"</span>,<span class='st'>"12-31"</span><span class='op'>)</span>,
                        weight <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>11</span><span class='op'>)</span>,<span class='fl'>0.5</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span>,<span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in dd0[ii, moDays1$days] &lt;- moDays1$weight: NAs nicht zugelassen in Teilbereichszuweisungen</span></div><div class='input'><span class='va'>obj_x13</span> <span class='op'>&lt;-</span> <span class='fu'><a href='perX13.html'>perX13</a></span><span class='op'>(</span><span class='va'>AirPassengers</span>, template <span class='op'>=</span> <span class='st'>"RSA3"</span>, tradingdays.option <span class='op'>=</span> <span class='st'>"UserDefined"</span>,
                        usrdef.varType <span class='op'>=</span> <span class='st'>"Calendar"</span>,
                        usrdef.varEnabled <span class='op'>=</span> <span class='cn'>TRUE</span>, usrdef.var <span class='op'>=</span> <span class='va'>hdAT</span><span class='op'>[[</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in is.mts(var): Objekt 'hdAT' nicht gefunden</span></div><div class='input'><span class='va'>obj_x13</span><span class='op'>$</span><span class='fu'>run</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): Objekt 'obj_x13' nicht gefunden</span></div><div class='input'><span class='va'>obj_x13</span><span class='op'>$</span><span class='va'>output</span><span class='op'>$</span><span class='va'>regarima</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): Objekt 'obj_x13' nicht gefunden</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Angelika Meraner, Gregor de Cillia, Alexander Kowarik.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


