<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Spectral Plots — plotSpectrum • persephone</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Spectral Plots — plotSpectrum" />
<meta property="og:description" content="Interactive plot of the periodogram or the autogregressive spectrum.
Produces a ggplot/plotly object for objects of class persephone." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">persephone</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/persephone-hierarchical.html">Hierarchical time series</a>
    </li>
    <li>
      <a href="../articles/persephone-hierarchicalEU.html">Hierarchical time series - construction and weights</a>
    </li>
    <li>
      <a href="../articles/persephone-plotting.html">Plotting with persephone</a>
    </li>
    <li>
      <a href="../articles/persephone-useR.pdf">persephone useR!2019 (PDF)</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statistikat/persephone">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Spectral Plots</h1>
    <small class="dont-index">Source: <a href='https://github.com/statistikat/persephone/blob/master/R/plotSpectrum.R'><code>R/plotSpectrum.R</code></a></small>
    <div class="hidden name"><code>plotSpectrum.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Interactive plot of the periodogram or the autogregressive spectrum.
Produces a <code>ggplot</code>/<code>plotly</code> object for objects of class <a href='persephone.html'>persephone</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>plotSpectrum</span>(<span class='no'>x</span>, <span class='kw'>tsType</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"original"</span>, <span class='st'>"sa"</span>, <span class='st'>"irregular"</span>, <span class='st'>"residuals"</span>),
  <span class='kw'>plotType</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"arSpec"</span>, <span class='st'>"arSpecBars"</span>, <span class='st'>"periodogram"</span>), <span class='kw'>maxobs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>n.freq</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>order</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>interactive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class <a href='persephone.html'>persephone</a>.</p></td>
    </tr>
    <tr>
      <th>tsType</th>
      <td><p>character (<code>"original"</code>,<code>"sa"</code>,<code>"irregular"</code>,<code>"residuals"</code>)
selecting the preferred type of time series to plot. A numeric
value (<code>1:4</code>) corresponding to one of these characters is also accepted.</p></td>
    </tr>
    <tr>
      <th>plotType</th>
      <td><p>character (<code>"arSpec"</code>,<code>"arSpecBars"</code>,<code>"periodogram"</code>)
selecting the preferred type of plot, see Details. A numeric
value (<code>1:3</code>) corresponding to one of these characters is also accepted.</p></td>
    </tr>
    <tr>
      <th>maxobs</th>
      <td><p>maximum number of observations of the time series. If NULL,
<code>maxobs</code> equals the length of the time series for plotTypes
<code>"arSpec"</code> and <code>"periodogram"</code> and <code>maxobs=96</code> for plotType <code>"arSpecBars"</code>.</p></td>
    </tr>
    <tr>
      <th>n.freq</th>
      <td><p>the number of frequencies, i.e. the number of points at which
to plot. If NULL, <code>n.freq=301</code> for plotTypes <code>"arSpec"</code> and <code>"periodogram"</code>
and <code>n.freq=61</code> for plotType <code>"arSpecBars"</code>.</p></td>
    </tr>
    <tr>
      <th>order</th>
      <td><p>order of the AR model</p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>plot title</p></td>
    </tr>
    <tr>
      <th>interactive</th>
      <td><p>If the return value would be a <code>ggplot</code> object, wrap it
in <a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>plotly::ggplotly</a> before returning.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other plotting parameters to affect the plot. Not currently used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns an object of class <code>ggplot</code> or <code>plotly</code>. The seasonal and
trading day frequencies are indicated in blue and red. For monthly data,
the seasonal frequencies are 1/12, 2/12, ..., 6/12 and the trading day
frequencies are 0.348 and 0.432. For quarterly data, the seasonal
frequency is 1/4 and the trading day frequencies are 0.044375, 0.08875,
0.294375, 0.33875 and 0.38125.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The following options are available for the parameter <code>plotType</code>.</p><ul>
<li><p><code>arSpec</code>: The autoregressive spectrum similar to JD+ plots. The default
settings for the number of frequencies, i.e. the number of points at which
to plot, the order of the AR model to be fitted and the maximum number of
observations of the time series are n.freq = 301, order = 30 and
maxobs='length of the time series' in this case.</p></li>
<li><p><code>arSpecBars</code>: The autoregressive spectrum similar to X-13ARIMA-SEATS plots.
The default settings for the number of frequencies, the order of the AR
model to be fitted and the maximum number of observations are n.freq = 61,
order = 30 and maxobs=96 in this case.</p></li>
<li><p><code>periodogram</code>: The raw periodogram similar to JD+ plots. The default
settings for the number of frequencies and the maximum number of
observations are n.freq = 301 and maxobs='length of the time series' in
this case.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Monthly Data Example</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>AirPassengers</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"datasets"</span>)
<span class='co'># Generate a persephone object, in this case an x13Single object</span>
<span class='no'>obj</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='per_x13.html'>per_x13</a></span>(<span class='no'>AirPassengers</span>, <span class='st'>"RSA5c"</span>)
<span class='no'>obj</span>$<span class='fu'>run</span>()

<span class='co'># Plot the AR-Spectrum after run</span>
<span class='co'># Autoregressive Spectrum of the original series</span>
<span class='co'># (similar to JD+ plots)</span>
<span class='co'># where n.freq = 301 and order = 30</span>
<span class='fu'>plotSpectrum</span>(<span class='no'>obj</span>)

<span class='co'># Autoregressive Spectrum of the original series</span>
<span class='co'># (similar to X-13ARIMA-SEATS plots)</span>
<span class='co'># where n.freq = 61 and order = 30</span>
<span class='fu'>plotSpectrum</span>(<span class='no'>obj</span>, <span class='kw'>plotType</span><span class='kw'>=</span><span class='st'>"arSpecBars"</span>)

<span class='co'># Periodogram</span>
<span class='fu'>plotSpectrum</span>(<span class='no'>obj</span>, <span class='kw'>plotType</span><span class='kw'>=</span><span class='st'>"periodogram"</span>)
<span class='co'># same as</span>
<span class='fu'>plotSpectrum</span>(<span class='no'>obj</span>, <span class='kw'>plotType</span><span class='kw'>=</span><span class='fl'>3</span>)

<span class='co'># Quarterly Data Example</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>UKgas</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"datasets"</span>)
<span class='co'># Generate a persephone object, in this case a tramoseats object</span>
<span class='no'>obj2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='per_tramo.html'>per_tramo</a></span>(<span class='no'>UKgas</span>, <span class='st'>"RSAfull"</span>)
<span class='no'>obj2</span>$<span class='fu'>run</span>()
<span class='fu'>plotSpectrum</span>(<span class='no'>obj2</span>, <span class='kw'>tsType</span><span class='kw'>=</span><span class='st'>"original"</span>)
<span class='fu'>plotSpectrum</span>(<span class='no'>obj2</span>, <span class='kw'>tsType</span><span class='kw'>=</span><span class='st'>"sa"</span>)
<span class='fu'>plotSpectrum</span>(<span class='no'>obj2</span>, <span class='kw'>tsType</span><span class='kw'>=</span><span class='st'>"irregular"</span>)
<span class='fu'>plotSpectrum</span>(<span class='no'>obj2</span>, <span class='kw'>tsType</span><span class='kw'>=</span><span class='st'>"residuals"</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Angelika Meraner, Gregor de Cillia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.9900.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


